<script lang="ts">
  import { getColorFromValue } from "../../../../app/store/store-toolbar";

  export let icon: string;
  export let size: string;
  export let isActive: boolean;
  export let indicatorColor: string;

  let svgData = "";
  let color = "";

  $: {
    if (indicatorColor) {
      color = getColorFromValue(indicatorColor);
    }
  }

  $: {
    switch (icon) {
      case "text-color": {
        svgData = `
          <svg width="${size}" height="${size}" viewBox="0 0 20 20" fill="none" data-grideditorcompanion="true" xmlns="http://www.w3.org/2000/svg">
            <path d="M5.94778 12.547L9.25478 2H11.9198L15.2258 12.547H13.0308L12.3608 10.338H8.76978L8.11478 12.547H5.94778ZM9.26878 8.447H11.8628L10.5658 3.81L9.26878 8.447Z" fill="currentColor"/>
            <path d="M17.7868 15.596H3.38679C2.94496 15.596 2.58679 15.9542 2.58679 16.396V17.2C2.58679 17.6418 2.94496 18 3.38679 18H17.7868C18.2286 18 18.5868 17.6418 18.5868 17.2V16.396C18.5868 15.9542 18.2286 15.596 17.7868 15.596Z" fill="${color}"/>
          </svg>
        `;
        break;
      }
      case "fill-color": {
        svgData = `
          <svg width="${size}" height="${size}" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18.134 15.596H3.73396C3.29213 15.596 2.93396 15.9542 2.93396 16.396V17.2C2.93396 17.6418 3.29213 18 3.73396 18H18.134C18.5758 18 18.934 17.6418 18.934 17.2V16.396C18.934 15.9542 18.5758 15.596 18.134 15.596Z" fill="${color}"/>
            <path d="M15.538 9.35715C15.8411 9.84787 16.1064 10.361 16.3315 10.892C16.478 11.2433 16.5509 11.6208 16.5459 12.0013C16.5467 12.1435 16.5195 12.2843 16.4659 12.4159C16.4123 12.5476 16.3333 12.6673 16.2334 12.7684C16.1335 12.8695 16.0146 12.9499 15.8836 13.005C15.7527 13.0601 15.6121 13.0889 15.47 13.0898C15.3279 13.0889 15.1873 13.0601 15.0563 13.005C14.9254 12.9499 14.8065 12.8695 14.7066 12.7684C14.6067 12.6673 14.5277 12.5476 14.4741 12.4159C14.4205 12.2843 14.3933 12.1435 14.3941 12.0013C14.367 11.6079 14.4412 11.2141 14.6095 10.8575C14.8692 10.3282 15.1801 9.82569 15.538 9.35715V9.35715Z" fill="${color}"/>
            <path d="M6.88661 8.98615C6.71544 8.81228 6.6195 8.57807 6.6195 8.33408C6.6195 8.09008 6.71544 7.85588 6.88661 7.682L8.68685 5.85515L14.1837 7.2458L10.3193 11.156C10.2352 11.2415 10.135 11.3094 10.0244 11.3557C9.91385 11.402 9.79518 11.4259 9.67531 11.4259C9.55545 11.4259 9.43678 11.402 9.32622 11.3557C9.21567 11.3094 9.11543 11.2415 9.03137 11.156L6.88661 8.98615Z" fill="currentColor"/>
            <path d="M10.7922 2.97408L6.38216 7.43586C6.13642 7.68661 5.99878 8.02371 5.99878 8.3748C5.99878 8.72589 6.13642 9.06298 6.38216 9.31373L8.70288 11.6625C8.82419 11.7856 8.96875 11.8833 9.12816 11.9501C9.28757 12.0168 9.45866 12.0511 9.63146 12.0511C9.80427 12.0511 9.97535 12.0168 10.1348 11.9501C10.2942 11.8833 10.4387 11.7856 10.56 11.6625L14.9701 7.20076L10.7922 2.97408ZM11.2565 2.03515L15.8979 6.73129C16.0209 6.8566 16.0898 7.02518 16.0898 7.20076C16.0898 7.37635 16.0209 7.54492 15.8979 7.67023L11.2565 12.3664C11.0444 12.5826 10.7913 12.7544 10.512 12.8717C10.2327 12.9889 9.93288 13.0493 9.62998 13.0493C9.32709 13.0493 9.02723 12.9889 8.74795 12.8717C8.46867 12.7544 8.21558 12.5826 8.00349 12.3664L5.68721 10.019C5.25581 9.58068 5.01396 8.99035 5.01382 8.37532C5.01368 7.76029 5.25526 7.16984 5.68647 6.73129L10.3279 2.03515C10.3885 1.97355 10.4608 1.92463 10.5405 1.89123C10.6202 1.85784 10.7058 1.84064 10.7922 1.84064C10.8786 1.84064 10.9642 1.85784 11.0439 1.89123C11.1236 1.92463 11.1959 1.97355 11.2565 2.03515Z" fill="currentColor"/>
            <path d="M6.66385 3.89814C6.57166 3.80401 6.52008 3.67746 6.52022 3.5457C6.52036 3.41394 6.5722 3.2875 6.66459 3.19357L8.48849 1.34749C8.53391 1.30148 8.58801 1.26495 8.64766 1.24002C8.70731 1.21509 8.77132 1.20225 8.83597 1.20225C8.90062 1.20225 8.96463 1.21509 9.02427 1.24002C9.08392 1.26495 9.13803 1.30148 9.18345 1.34749L9.97599 2.14891L9.28473 2.85792L9.2803 2.85348L8.83671 2.40989L7.36029 3.89814C7.31477 3.94424 7.26056 3.98085 7.20078 4.00584C7.141 4.03082 7.07686 4.04369 7.01207 4.04369C6.94728 4.04369 6.88314 4.03082 6.82337 4.00584C6.76359 3.98085 6.70937 3.94424 6.66385 3.89814Z" fill="currentColor"/>
          </svg>
        `;
        break;
      }
      default: {
        svgData = "";
        break;
      }
    }
  }
</script>

<div class="indicator-icon" class:active={isActive}>
  {@html svgData}
</div>

<style lang="postcss">
  .indicator-icon {
    @apply p-0 m-0 text-toolbar-button-normal-color;
  }

  .indicator-icon.active {
    @apply text-toolbar-button-active-color;
  }
</style>
